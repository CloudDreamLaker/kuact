\documentclass{noiproblem}
\DeclareMathOperator{\xor}{xor}
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\begin{document}

{% if contest and 'title' in contest and 'zh-cn' in contest.title %}
	\title{ {{contest.title['zh-cn']}} }
{% else %}
	\title{ 预览输出 }
{% endif %}

{% if contest and 'subtitle' in contest and 'zh-cn' in contest.subtitle %}
	\def\subtitle{ {{contest.subtitle['zh-cn']}} }
{% endif %}

{% if contest and 'short title' in contest and 'zh-cn' in contest['short title'] %}
	\def\engtitle{ {{contest['short title']['zh-cn']}} }
{% endif %}

{% if day and 'title' in day and 'zh-cn' in day.title %}
	\def\theday{ {{day.title['zh-cn']}} }
{% endif %}

{% if day and 'start time' in day and 'end time' in day %}
	\def\time{
		比赛时间：
		{{ tools.time_range(day['start time'], day['end time'], '年', '月', '日').replace('~', '$\\sim$').replace(' ', '~') }}
	}
{% endif %}

\thispagestyle{Cover}

\ifdefined \precautions		%%For NOIP

	\begin{center}
		{\erhao \bf \thetitle \par}
		\ifdefined\engtitle
			{\xiaoyi \hei \engtitle \par}
		\fi
		\ifdefined\subtitle
			{\erhao \kai \subtitle}
		\fi
		\ifdefined\theday
			{\kai \erhao \theday \par}
		\fi
		\ifdefined\time
			{\hei \xiaosan \time \par}
		\fi
	\end{center}

\else						%%For contests other than NOIP

	\null
	\begin{center}
		{\yihao \bf \thetitle \par}
		\ifdefined\subtitle
			{\yihao \hei \subtitle \par} \vskip 1em
		\fi
		\ifdefined\engtitle
			{\yihao \xiaochu \engtitle \par} \vskip 1em
		\fi
		\ifdefined\theday
			{\kai \xiaoyi \theday \par} \vskip 1em 
		\fi
		\ifdefined\time
			{\hei \sanhao \time \par}
		\fi
	\end{center}
	\vskip 1em

\fi
	
\begin{center}
\begin{tabularx}{\the \textwidth}{
		|
		{%- if probs.__len__() == 4 -%}
			p{0.20 \textwidth}
		{%- else -%}
			X
		{%- endif -%}
		|
		{%- for i in range(probs.__len__()) %}X|{% endfor-%}
	}
	\hline
		题目名称
		{%- for prob in probs -%}
			& {{ prob['cnname'] }}
		{%- endfor -%}
		\tabularnewline
	\hline
		题目类型
		{%- for prob in probs -%}
			&
			{% if prob['type'] == 'program' %}
				传统型
			{% elif prob['type'] == 'output' %}
				提交答案型
			{% else %}
				交互型
			{% endif %}
		{%- endfor -%}
		\tabularnewline
	\hline
		目录
		{%- for prob in probs -%}
			& {{ prob['name'] }}
		{%- endfor -%} 
		\tabularnewline
	\hline
		可执行文件名
		{%- for prob in probs -%}
			&
			{% if prob['type'] != 'output' %}
				{{ prob['name'] }}
			{% else %}
				N/A
			{% endif %}
		{%- endfor -%}
		\tabularnewline
	\hline
		输入文件名
		{%- for prob in probs -%}
			&
			{% if prob['type'] != 'output' %}
				{{ prob['name'] }}.in
			{% else %}
				{{ prob['name'] }}*.in
			{% endif %}
		{%- endfor -%}
		\tabularnewline
	\hline
		输出文件名
		{%- for prob in probs -%}
			&
			{% if prob['type'] != 'output' %}
				{{ prob['name'] }}.out
			{% else %}
				{{ prob['name'] }}*.out
			{% endif %}
		{%- endfor -%}
		\tabularnewline
	\hline
		每个测试点时限
		{%- for prob in probs -%}
			&
			{% if prob['type'] != 'output' %}
				{{ prob['time limit'] }}秒
			{% else %}
				N/A
			{% endif %}
		{%- endfor -%}
		\tabularnewline
	\hline
		内存限制
		{%- for prob in probs -%}
			&
			{% if prob['type'] != 'output' %}
				{{ prob['memory limit'] }}
			{% else %}
				N/A
			{% endif %}
		{%- endfor -%}
		\tabularnewline
	\hline
		测试点数目
		{%- for prob in probs -%}
			& {{ prob['test cases'].__len__() }}
		{%- endfor -%}
		\tabularnewline
	\hline
		每个测试点分值
		{%- for prob in probs -%}
			& {{ 100 // prob['test cases'].__len__() }}
		{%- endfor -%}
		\tabularnewline
	\hline
\end{tabularx}
\end{center}

提交源程序文件名
\begin{center}
\begin{tabularx}{\the \textwidth}{
		|
		{%- if probs.__len__() == 4 -%}
			p{0.20 \textwidth}
		{%- else -%}
			X
		{%- endif -%}
		|
		{%- for i in range(probs.__len__()) %}X|{% endfor-%}
	}
	\hline
		对于C++ {% if probs.__len__() < 5 %} \tabto{5.5em} {% endif %} 语言
		{%- for prob in probs -%}
			&
			{% if prob['type'] != 'output' %}
				{{ prob['name'] }}.cpp
			{% else %}
				N/A
			{% endif %}
		{%- endfor -%}
		\tabularnewline
	\hline
		对于C {% if probs.__len__() < 5 %} \tabto{5.5em} {% endif %} 语言
		{%- for prob in probs -%}
			&
			{% if prob['type'] != 'output' %}
				{{ prob['name'] }}.c
			{% else %}
				N/A
			{% endif %}
		{%- endfor -%}
		\tabularnewline
	\hline
		对于Pascal {% if probs.__len__() < 5 %} \tabto{5.5em} {% endif %} 语言
		{%- for prob in probs -%}
			&
			{% if prob['type'] != 'output' %}
				{{ prob['name'] }}.pas
			{% else %}
				N/A
			{% endif %}
		{%- endfor -%}
		\tabularnewline
	\hline
\end{tabularx}
\end{center}

编译选项
\begin{center}
\begin{tabularx}{\the \textwidth}{
		|
		{%- if probs.__len__() == 4 -%}
			p{0.20 \textwidth}
		{%- else -%}
			X
		{%- endif -%}
		|
		{%- for i in range(probs.__len__()) %}X|{% endfor-%}
	}
	\hline
		对于C++ {% if probs.__len__() < 5 %} \tabto{5.5em} {% endif %} 语言
		{%- for prob in probs -%}
			&
			{% if prob['type'] != 'output' %}
				{{ prob['compile']['cpp'] }}
			{% else %}
				N/A
			{% endif %}
		{%- endfor -%}
		\tabularnewline
	\hline
		对于C {% if probs.__len__() < 5 %} \tabto{5.5em} {% endif %} 语言
		{%- for prob in probs -%}
			&
			{% if prob['type'] != 'output' %}
				{{ prob['compile']['c'] }}
			{% else %}
				N/A
			{% endif %}
		{%- endfor -%}
		\tabularnewline
	\hline
		对于Pascal {% if probs.__len__() < 5 %} \tabto{5.5em} {% endif %} 语言
		{%- for prob in probs -%}
			&
			{% if prob['type'] != 'output' %}
				{{ prob['compile']['pas'] }}
			{% else %}
				N/A
			{% endif %}
		{%- endfor -%}
		\tabularnewline
	\hline
\end{tabularx}
\end{center}

\ifdefined \precautions
	\precautions
\fi

{% for i in range(problems.__len__()) %}

	\clearpage

	\begin{center}
		\section{ {{probs[i].title['zh-cn']}}（{{probs[i]['name']}}） }
	\end{center}
	
	{{ problems[i] }}

{% endfor %}

\end{document}
